from typing import List

class Solution:
    def simulationResult(self, windows: List[int], queries: List[int]) -> List[int]:
        orig = set(windows)
        seen = set()
        res = list()
        N = len(queries)
        for q in queries[::-1]:
            if q not in seen:
                res += [q]
                seen.add(q)
                orig.remove(q)
        for w in windows:
            if w in orig:
                res += [w]
        return res

# Main section
for windows, queries in [
                           ([1,2,3], [3,3,2]),
                           ([1,4,2,3], [4,1,3]),
                           ([28,42,46,38,13,3,44,45,27,8,4,50,26,39,29,43,35,18,1,5,49,31,6,15,9,23,33,21,11,25,17,19,32,36,41,34,14,20,2,47,16,7,10,12,40,30,22,24,48,37], [1,9,3,4,5,1,4,9,6,8,4,8,3,6,4,9,4,4,2,4,4,1,10,2,3,9,6,4,4,9]),
                           ([28,1,9,7,71,63,42,35,48,32,68,79,94,47,2,84,86,74,55,57,78,44,41,66,93,23,65,69,70,25,16,29,91,14,17,49,60,50,96,100,51,85,33,39,8,92,46,43,18,11,21,61,19,34,26,12,64,83,62,95,53,89,24,30,20,6,59,45,81,52,99,72,37,56,98,67,10,36,27,15,76,88,54,13,87,22,58,40,5,77,4,80,90,38,73,3,97,82,75,31], [3,68,65,58,8,77,62,94,81,26,44,72,20,64,93,34,40,76,59,36,4,23,73,21,2,43,13,61,19,89,11,6,83,9,51,46,12,10,79,7,39,5,28,78,70,80,47,97,75,52,74,92,37,53,87,30,67,98,27,66,95,41,49,50,16,17,56,25,32,71,69,55,45,100,1,91,29,84,96,35,18,82,57,33,60,24,14,38,63,90,31,54,22,86,48,85,88,99,42,15]),
                           #([47,379,887,306,539,623,6,966,917,163,878,316,739,119,768,565,525,733,431,207,444,327,663,361,447,284,791,980,839,851,266,665,809,704,362,912,647,937,277,401,337,335,531,943,661,342,152,875,300,397,834,474,22,251,644,236,957,146,767,94,714,142,468,323,281,941,13,409,759,522,979,513,275,246,264,381,244,949,702,331,30,141,185,122,340,144,101,860,139,792,313,115,677,191,416,787,491,650,153,103,57,530,928,155,701,914,167,481,945,636,788,679,500,448,779,137,815,750,124,484,68,435,863,46,952,358,946,304,797,113,89,224,376,232,838,384,629,762,582,766,196,812,117,618,475,25,652,368,969,621,964,553,24,940,110,171,75,681,707,86,39,988,853,821,538,819,305,199,472,114,547,180,15,227,168,367,351,596,872,678,319,157,691,889,70,151,183,296,231,194,740,731,177,869,85,488,90,154,593,329,463,210,745,360,684,982,130,417,935,648,473,996,136,211,52,955,700,859,518,248,683,959,336,813,268,645,387,239,865,933,588,349,61,95,625,32,161,453,894,67,353,724,311,512,265,592,595,721,302,322,727,352,193,48,778,238,810,402,598,174,676,189,149,726,274,831,41,166,338,584,822,738,758,907,961,350,341,962,931,867,776,271,693,280,848,898,835,532,343,333,877,728,562,529,386,87,390,999,608,567,554,741,263,670,826,509,789,694,893,31,528,560,824,801,601,732,285,855,506,958,470,926,451,497,546,11,901,400,723,985,257,664,365,427,883,430,635,71,179,711,612,643,292,212,967,975,551,78,557,490,143,987,441,847,719,909,620,127,861,555,900,315,544,581,504,575,395,920,479,436,195,129,613,16,862,840,817,751,806,713,687,583,634,383,607,36,603,164,80,347,993,243,600,77,286,291,718,288,667,96,921,132,927,156,169,972,202,543,411,459,769,105,774,55,486,128,589,209,28,638,200,170,373,507,192,445,737,339,656,823,73,994,586,825,226,255,461,706,446,476,487,443,317,519,559,923,178,842,654,803,260,798,391,502,599,426,936,434,310,983,503,229,698,492,282,66,795,870,148,866,915,911,9,881,79,764,345,83,641,467,18,258,147,938,668,524,697,346,939,495,42,494,856,981,954,371,671,836,35,902,378,160,188,790,118,591,829,561,408,76,631,138,222,761,3,82,756,438,412,406,393,657,480,272,897,483,477,716,735,785,385,890,932,432,578,471,53,267,439,201,807,816,995,622,956,60,749,4,517,372,919,947,437,752,33,606,960,454,413,63,116,44,624,51,245,252,852,56,424,784,423,217,440,135,19,45,74,510,984,505,905,348,968,37,804,895,466,359,550,214,375,746,662,314,649,710,14,186,93,908,523,99,666,237,602,892,69,857,23,537,564,462,594,655,126,234,858,58,953,469,403,672,377,298,249,673,760,270,120,294,705,293,948,542,418,576,498,717,273,187,112,34,690,145,97,609,986,783,965,617,449,973,686,241,782,320,140,366,276,675,642,17,325,808,176,499,10,828,563,429,796,452,777,330,392,328,332,410,250,414,709,363,50,107,864,633,326,419,181,496,885,876,616,501,805,942,757,736,8,2,49,827,215,841,299,374,571,604,820,355,442,934,59,990,771,846,72,125,992,356,874,259,951,43,357,65,998,318,755,632,802,526,460,786,150,899,303,527,433,38,626,725,399,708,660,570,844,230,580,29,918,297,20,904,205,220,781,253,382,369,521,754,929,514,370,458,703,800,485,871,658,269,213,121,590,173,540,493,516,780,950,674,879,515,289,669,1000,228,548,64,743,159,247,5,398,26,888,190,182,896,924,695,278,422,283,290,799,630,811,873,611,309,545,845,221,404,40,832,162,428,109,158,646,12,574,54,989,81,242,734,184,287,321,720,223,133,197,775,208,770,549,7,573,254,216,597,394,175,354,324,772,963,312,916,651,585,765,478,922,610,997,558,925,637,204,730,334,420,682,978,240,172,696,944,753,568,886,854,579,910,233,627,868,722,396,747,991,742,389,301,977,814,689,100,62,380,685,225,425,903,906,102,508,913,108,541,843,830,794,619,256,882,203,388,970,640,659,605,489,279,763,729,111,615,930,692,364,482,415,511,457,88,1,92,219,450,131,134,699,465,748,837,104,849,680,744,572,344,653,206,21,891,535,235,818,261,455,577,639,198,27,307,407,98,106,773,536,218,308,165,456,520,464,628,833,884,971,84,91,880,556,850,712,552,533,123,534,295,566,569,587,405,974,715,421,262,614,793,976,688], [23,70,9,32,61,24,67,24,8,5,32,65,18,48,42,25,50,57,53,66,12,63,35,10,14,48,13,37,9,61,47,6,26,59,40,61,21,2,39,33,63,23,18,37,44,57,42,32,48,57,28,49,9,12,13,31,34,62,19,47,31,43,37,16,26,39,47,9,6,35,68,12,24,61,9,20,62,39,42,60,43,6,37,34,37,53,56,44,1,16,21,8,45,59,3,68,37,46,56,12]),
                        ]:
    print(f'windows, queries = {windows}, {queries}')
    sol = Solution()
    r = sol.simulationResult(windows, queries)
    print(f'r = {r}')
    print('======================')

