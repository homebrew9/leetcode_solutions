#
# Use a monotonic stack.
#
class Solution:
    def removeKdigits(self, num: str, k: int) -> str:
        '''
            5 4 8 9 7 4 2 9 8 4   ; k = 3
            4742984
              
            3 0 2 8 0 8 6 2 3 1   ; k = 3
            0086231

                  1 4 3 2 2 1 9   ; k = 3
                  1219
            
        '''
        stack = list()
        for ch in num:
            while k > 0 and stack and ch < stack[-1]:
                stack.pop()
                k -= 1
            stack.append(ch)
        while stack and k > 0:
            stack.pop()
            k -= 1
        val = ''.join(stack).lstrip('0')
        if val == '':
            return '0'
        else:
            return val

# Main section
for num, k in [
                 ('5489742984', 3),
                 ('3028086231', 3),
                 ('8079284675220943128171092216962596993756745090254372598337969327457041601838397614754805273808212681069206281896289474178742206095747860335675674332771568342893999452739756276059298104397442846376434576169123105815009561578315728088087704976999400067209798669798849702071262084130237513854188549975626306513597836568709443977116893607279290707723163094354348199263756430084414149286839747137864260242376340541784640215169342333128436001564601292576775072608769887084024535906032164717286278645407521343816218806446069217120977429907905982887184977355275408171331098525154104152152603748425519274672281086112112261632485057076618276194218967524491484079402097920245338371431400178480610783910481774058613093292646603476605799898756576549626002318386778067396224009179759351030597956941182574336505451106308199729019888354794296729469096374592948109771352103500597950141230836708857051338271989929407839525751296205737108832394967312695439506549388768528425948489137282242301091962857440090766906495708', 5),
                 ('8079284675220943128171092216962596993756745090254372598337969327457041601838397614754805273808212681069206281896289474178742206095747860335675674332771568342893999452739756276059298104397442846376434576169123105815009561578315728088087704976999400067209798669798849702071262084130237513854188549975626306513597836568709443977116893607279290707723163094354348199263756430084414149286839747137864260242376340541784640215169342333128436001564601292576775072608769887084024535906032164717286278645407521343816218806446069217120977429907905982887184977355275408171331098525154104152152603748425519274672281086112112261632485057076618276194218967524491484079402097920245338371431400178480610783910481774058613093292646603476605799898756576549626002318386778067396224009179759351030597956941182574336505451106308199729019888354794296729469096374592948109771352103500597950141230836708857051338271989929407839525751296205737108832394967312695439506549388768528425948489137282242301091962857440090766906495708', 51),
                 ('8079284675220943128171092216962596993756745090254372598337969327457041601838397614754805273808212681069206281896289474178742206095747860335675674332771568342893999452739756276059298104397442846376434576169123105815009561578315728088087704976999400067209798669798849702071262084130237513854188549975626306513597836568709443977116893607279290707723163094354348199263756430084414149286839747137864260242376340541784640215169342333128436001564601292576775072608769887084024535906032164717286278645407521343816218806446069217120977429907905982887184977355275408171331098525154104152152603748425519274672281086112112261632485057076618276194218967524491484079402097920245338371431400178480610783910481774058613093292646603476605799898756576549626002318386778067396224009179759351030597956941182574336505451106308199729019888354794296729469096374592948109771352103500597950141230836708857051338271989929407839525751296205737108832394967312695439506549388768528425948489137282242301091962857440090766906495708', 103),
                 ('8079284675220943128171092216962596993756745090254372598337969327457041601838397614754805273808212681069206281896289474178742206095747860335675674332771568342893999452739756276059298104397442846376434576169123105815009561578315728088087704976999400067209798669798849702071262084130237513854188549975626306513597836568709443977116893607279290707723163094354348199263756430084414149286839747137864260242376340541784640215169342333128436001564601292576775072608769887084024535906032164717286278645407521343816218806446069217120977429907905982887184977355275408171331098525154104152152603748425519274672281086112112261632485057076618276194218967524491484079402097920245338371431400178480610783910481774058613093292646603476605799898756576549626002318386778067396224009179759351030597956941182574336505451106308199729019888354794296729469096374592948109771352103500597950141230836708857051338271989929407839525751296205737108832394967312695439506549388768528425948489137282242301091962857440090766906495708', 767),
                 #('8079284675220943128171092216962596993756745090254372598337969327457041601838397614754805273808212681069206281896289474178742206095747860335675674332771568342893999452739756276059298104397442846376434576169123105815009561578315728088087704976999400067209798669798849702071262084130237513854188549975626306513597836568709443977116893607279290707723163094354348199263756430084414149286839747137864260242376340541784640215169342333128436001564601292576775072608769887084024535906032164717286278645407521343816218806446069217120977429907905982887184977355275408171331098525154104152152603748425519274672281086112112261632485057076618276194218967524491484079402097920245338371431400178480610783910481774058613093292646603476605799898756576549626002318386778067396224009179759351030597956941182574336505451106308199729019888354794296729469096374592948109771352103500597950141230836708857051338271989929407839525751296205737108832394967312695439506549388768528425948489137282242301091962857440090766906495708', 995),
                 #('8079284675220943128171092216962596993756745090254372598337969327457041601838397614754805273808212681069206281896289474178742206095747860335675674332771568342893999452739756276059298104397442846376434576169123105815009561578315728088087704976999400067209798669798849702071262084130237513854188549975626306513597836568709443977116893607279290707723163094354348199263756430084414149286839747137864260242376340541784640215169342333128436001564601292576775072608769887084024535906032164717286278645407521343816218806446069217120977429907905982887184977355275408171331098525154104152152603748425519274672281086112112261632485057076618276194218967524491484079402097920245338371431400178480610783910481774058613093292646603476605799898756576549626002318386778067396224009179759351030597956941182574336505451106308199729019888354794296729469096374592948109771352103500597950141230836708857051338271989929407839525751296205737108832394967312695439506549388768528425948489137282242301091962857440090766906495708', 999),
                 #('7706762974526142587517282621995781416111200103706843419474033430012018376237798436830872388896672885897251119054078215628828105060007705649304063824575353274030661936189320307845041648451141403827950017920195388803470137095707909163978827798918208697005662788627390617986248725238814623125152280680125416960394255728702145123884875845925878909630711097778344745649250328091003962095296644008967495863962208944146189819491370893771735622583644864489896758394588321408965911311264928458314736354722367718015026727043496660171474200915173335271974861865793697147383155536233517048670453390490262181052880855916436689324487929816594424912132910802923252396001626388572013961134551432200372045458210297948287099861865595594626542994067053859897505384639455278912705212096055422333416423765127973389081430518384186747651242434752099218943780802879736525930617066515196576298622870338962988434076655847194559145947108701957794369325169650696748555525559584609816150263079816724438980202000875458867357856735950680133869884786722233973435003428844423398631438271138211623544925583261836482762509610905136111462816956003477839245756487270628446159195317101354553626872921534297992027370752551343603719922499840136193049279705234678452790179444357137276202329432478397861966051283527971815124837794255237517264877861150188217839866220094336968535299347664117539579967597642513687463605435019885241828085475943373283758664874678913293236055706169969821889544235431172373086902002474594119437840750085066233801435441154955483086257129811328134585772280081005462890096238415536540026044832314340568537139082482513786246950982490613949312324396119608698292149991668096906374831494996408918879193225198281065681447311934622212280529659005692653366371198514003725938649240624227437714408471370355708224053355550595329855823469168709404221932633527904600907203616558086417121728870322259452295337674974963112966617555375686215994358964197800898883374430371823515013260564598418115543657135480886504438671440729783528256039240845678221937989234104417724075748220382443285982744079298127391712656799395477009830908173588879486150399205991071427319794733318228643218959734405437915797115442207168109591129352339879817850119370100958947316211152348081676993768974877086960174402066204431268533144728665510389308952427792932541883374325927926511978979186802161423222955652066316343231341285280382439039011074045311761272989112420876005356544445303807849505248340597475303620970837629121183407615094968246158376276739282598176497952838065399809056331986811001952782284339922980203165451688738043265209035161808311061961904788077534774894447525788427717699179115169118577107683234068989060600793704612602398202821502016039752323300527646006600568465295590212337089759688900539186676024417940967224795169380573649523990240774433848996720854748537574102652074493834414301463465051912336612225274279669905294677648078564876383531802922890237931997962223592688160547932990296341541782330169268603737620946115879048778373322351771079712382057099619210262434676472237028174064415150752541332558776507732817031355926029989667006753248138695280588510194118486880564008463829523328288533519054143809244212451019205953599645233767868376583851022535068401963186766997530469082451629430130181353680232624719637867632152174033055805030475471770548583842021073640976629246138649402205196712405628624456820381759863913049109622273651757145108301832239998005060882467847237199185699417153418606237760830868931808782542420555242037864357130988149693818043739914080790224150383920230811605256922936390730032380857043259209239784694255207765607757637055091459233784491922487327013505223185874439124902822367569993001002938314861753728715443024924015422127361756345884943983960215126908804205228453129316641067551826639698093870392979247269929968616451877118492808005481742568040172765684701442496286692060216292785125393419542379441866855150085905175502124465353747865100995583239254820294258857348404651862680073984508350192535827996814442252559343020135808760657679596963885697869368098335101048244763092658916114167191027642448658705248703068498170877615118645072269634209704166363001469437514500400343369533257353534133335634830746965101177197063885925280901088472826247093522754006307212841492951156099267210510493490302799795344290950866134893542516377221781711154374967305541072147545803068132736303907915381838334886676806342870305749943235492501571550791315547764383062775180683640341255187258141286803473403124681755583412243508608874286717573422038196076689440977864761065742365210823506868943767391738998678834293832756592340494263031294563910302786549007120979750789998792030675277508280296272321249851259201304030270692523610306711176238038928189738621961572061858425868140190930274761050600572245723935110758789717215719625865787296651707266745028592938994606074337460800762529451955590935257990184895528367708673129886600107442070937671672888689591585001265076637956594116714761484901378459815477363222481026565628546458768864821287002543056234838224019287762026004460602886541956027437350723746847631443341544635818958949007931168100824858324937593695052294464080783004180522888544080068606645134315482135223499191321792240294138171870257065868156468858905764777841464826497109525385307662339838306626122266394913807959577117171723980728383004566056946901795004544622441894810740666814290058909856719335965648928922607430051029715196942290046148589024049327286764491430981932206031847374381860267748493204426691936464152321532229216696087371933851171718945419089720166297338392080175596535147530438879227515298072464978551028452046868969709332335043922850832220113630990014365566223298160846729934555472359638254062964187377305770329167657021687968469617762815268230245734385777584969017272581175601431039507469030034021921325020160135400562153422859620557617132559790815384367424011013521570980228123747872999005821321548021584659777855456010432798420035106448629123820885044985155846493449741707809683736221185747078097831936645778857849422547617454471185895979641513546427560368064645787462699024821391318469721957444844788235724709523908905963405279827504346922785437403937383919611550259359245041083073187450823704236928216104680168426678945657173038679566245487758163755729591798946074369818733505996610007403504971391691146193744970695083424703513034965435824579793803846937215685822795867190888250087856978377076207435337409102226226009214379528715863623859648314623020495769114079915922957423466319082587530932546216322820065357459804865379580740626810123152265952879341867393085770053552480737857861711248891396199544321653063126640538095864553986921885682086170021463164795127417571368455999322061274459365736624265896424454568319473470907529184185111742508635273076639480906180831936358016761997115281589103174502557526271206144555698392614276584050355015661115080573217543844243449567410644834472195921968812698822800730178199674962415359795357015478359497974252125071587821187644469679308653596204326130905495584289617484808348358569056275918909361120513120146877508735713423988553301086994853269226561287821655164712073551760779203746926745274127908660788743811728782485547521895026870955300166766427027293543825614803119150410025842684334427460309713143988979133947047270323890768044805160169956958911299925967743383854535702793549007057362511637890432174055180775606124224291133906666242645889807342533254358352508778259190370472779082336387890159138059566326493572536573183006080892558707559140968162487667073722038822425474465769487913156339621783257202950590647493564210396653420469747461620546809546154093306874655482621942880338414899701434720715998241838318130280375082338674721202654082668537451569903959127829173513516647300655525128405781685413507586634478881812402187782582547685713358979166324521105801738132335965582994152202828054843837220893659381211456890082799978763139394008093408571287302943731321173120722429201352715649949082501557029886339029531233024011717929414989604959020166982504404591520809313055389613162146370056058116262992256476330999247240451294963037150608275809803591207710385656467891390390867801909930545639965980954888960864527397748616364130865060046684567255600853001315807811111667040014010501962683408270021079259433497904781778635114883624060039150372254476592801866293460662833447223453285483409709165758116669846104125316043532628311630660534827006525453063029690756092253699521062281786520553884737988727952725255818944663474762127077298576802578227367812957861847161315402844453249803207448220408448831397552796607530567033064283143911163054907477897857675845312518755139025045228759499029562373747491909205764711769740706334679253559780852741475565470378802130068670185236484079537690643488739959313965720110432422475005405391131736694345174303922724036386021977762622361112699111656269022709464194473381979825995942836168169114351506495942382532268992438139124628650318054196899243850330567368406586998451933705626580331750671818432044699879707918692668794762047279203495931513800746278610941738349612587190845123545162243180877766646352718299239308007322508296305942004707720836427902205740128367251289288477518789179332725524479939728179753770456539865654794692411602610732162623232469012837001107369706336559970720975141548830974357452306448349226820626419837560944082958414703955433787700138557311236306569769393515745337514019130555070917292037018955490410148632012036834225669343296020788403297967166681909513229968013568388037439576067263613997372791867002579113064677159679308282048844441443961179340762990860920237123583353532517382398577046895978314380665343332282449769986097216173076686704443023213642318165128973561212712096609847016459422480591523570559492044232357970779108950368016379471683780856747170912001181919324163691139063574902735021844882369617609723160171959861854713085132408787226742960600302663213259092001794630921351480136773654293383799167144498606705511586742254163868089712939748994716431266710838778200360866170275910731996225', 3599),
                 #('99641436378815361153471302158193420182863684789411484994976484827114595334610042544056442370530816060833617030976813134098793056155103202008549344446519354408307307071055065112738442020228471569394796174150323080161225901964338837341524253243218509500254619223683091799365677720582389568156585225666197123093377871100002481402486219837255411382162499321193416524972275273471969155848742457476556433737281147710021781210134765321761285612276511917324552585569882156635094670362653567596144728653795007023230933817566104488637696450166087905100823699425798763598444326069357052842379918535855296915760054459317433521878778171811081076593166663090948029793113626852462712388116483774713426183911481230884393594249331828165503798269634244430773693033882708000249632850148799859322024693146577635543114657662418998860517525989192973250701631765598465053097616804817344343895016724561947860836117504915797011185132674255278236597746042138768473723059825948301565719437610732907662545499042953499866813741157301003371005200992314265077531029437948931255617153417148822355928318598517533241719641002712204874161001604269216566928220767474713135516717997491363360204764154264989004671363541097433484822118483642107547658581450616821769964767032521138851570822729134762460014265433227201724724004338494552397280090568164786109721571436206198382814849033856987338787473335772666933218810822482848994610491705665155516384799459418594559136827941106387689501641851101743298582575466303864906673788496628288920867422193950180810131396612913851112593807649152972068279299934113463669714575613645929365652921808836725682390026075559320995704880149764583379697505303474550029059828116836469203370428449330442281563135568935742669243344218603994417955703485059862132359688776290378210392955310785874528205203788559715493852405991380290274268143557970398441851157977520689440430265144029789788511042795879174567381358510694749512938934687979305099149575464220629804942550564164786808856897809863824121659548034395539735407069279457678613909222371848892294754933299091164656871086269084324529512544747434123547189729993758337622038098699448815701644934651292719067683227727438808955969543542319197883567369733867364250353136697865107182282929655918362211832327827571354787535611501731943856155003853732339819594939524719169561110698571676562329360803282215467534058504728127731515598941143637827010955579092451405821352126706550438315176049692316210490899702613078702535716735901806171522853021035597316703390478571485677998207922773938829371460838611214446417528913575284776737837046439695408523434414916342979688820197836458637694991540998291690345194205452439239827382953039810367712244590155940394387554911786652478111954297185544106384174592451680875083737874735810068767866214924634885513828808880161930987276602570872860752119813042414550396358433893592777541756673206882876746731707766966268096104320061937913505893028833592137540396064375155513979764728180927083060481127522118240026140625647313783901073938419240249929000962722034273952683635919540169732220854978101308126446671885186032295490845060116567165945677975672981321362161949418405852378788584602802612398876874288293756055559457538271197205867506313677160755990736347314715042607243878693780144368083800080967842966193539823770427967091132770230485036143223363387876244958899577538069175123004651952588711287008791159682042581943812962882375293348462523257081140457567348612069746943329842264291823570671268374580651696311114624358304235261945894627668267192756606441264485628097480920062857007640396910214970556623416565940789636657349735150043836194242061994234044262604284350296258397208287158735477739515615890093167555389262170576609082365199242352356197706754361085079177223144662701424848070607319078068303190442737202186364818021792860690571733432439513976759807778513151206801184300729685910765785586373831699595178352610150383283823456881293647763022411686252640648120690251120902631370825525354213297549430441989419362406888242180413640397005462289002837178086683143441254722528075315187910994986929463063282350677644105312484770818851268755183086729904524488901102287310169865855725358976453628171038414004415469635124255044890245890050115901243603489384920067923087045070616429510114587493955384903357111302068595548921504222171096098548413208088831560744996899783844118318185694142620796984004522106434428513215881883542758888862576036415421097762413907290417004936441609238204617100586876487061497586106631983740139555573272626681186969272113315348553052708453716313010811194726904231406455432865684477036960953564406390115786323388585604716504384778912812410729908949581143722120318954849846535676912868526526501078193502393524062471534154104899815734648650035608611113327222040864146091286020205304970098510045582130989981665393076480660907742469107193219475618455618115516353495211289597815564506193368287178714208989206470099207227171770619580227427772058576958549342547850566371060314330889132466260972915500785842700966615103949831075688522846389635990078358138687466663099265099431775674237640711466272609872329090894406587154198409486434056948991642623725868520261081714501891452704954562834244485695899485150794033902595303371632597184940525684558272222395813587950566598836575728711404672894869851301199508345442816914540274231773573695049117433232750564343477296571911336451338765122801905492189124021699698020217831160061375249740348841211772476455089061870953510480256335713228323198782026742817220321247980121667780800877801219532811542139900480803615083739957513418528009253849655053312995534574307148952727627870318872325094411860749809155407484065987101730385346571248798467212335910821152286411077915790397497756477613051365987943518909759211252763081626026136209474490841118337332773116122063152414208776801671614382203998310801791046109980464795153775904284579208046765170299376571712696359391195309011046580945099118345329164807866461624513459858969478261348365746242842254100449074846018162381649508771205692387943049083877156128753239386498305599949138477358461424273464036997642435352074743094695564535693378173888280633866732018710701060752702258884562187458492514181027419045608607139753797741693225900923436163273291784047946102859573341135995351940672974945745062320931107916232460722010886651827074516009065280667168017782964663521168472263155891094369134584611694802620433621767214124173962636180142978128638945692419270222518432363382128100260544917455244318162619360808797214154001396840051520865249909119773623276044783996235484958441702533661095335337458603732924068113476544273220040621287278168707393471504842692312354782265568742305367773635557008065688109790648713350572351799924638273829816187626279342407486758617884199669669286080608957640162096427744397522103026413782698158732581790000716751490076906346484023835702438474105176931779065689980130347837155056303467742499515965713045957954225592059807462917282749105358673064716135765849677591608061323905019687616579401117839719269327243007586938365568212311638431283680946079388989080798521721770825311237382299640977231722390040018733060008726711369177955792504805871660952275133036361448257222162174106121886956846208577175900217031085260775753651365765038925717954695019720235653672968689019573262654460436772900765775615489257834882352941349073672575670561593061387879337673233294306479935031268311515186416299622966578517978675818927585118344348361158710756313053131716293124192982037977789379782122120656399498488608931743952536041546453299501041577456229618221253519224906611827751220393777623642577532653929191439603183004880021982807536023221789599010502125687724004685177438516674638976736887749480118357141229355178588718777866510629202733751110559334924038607709059709853979249569510212755627954315025008066453716096825677236680969921750877126730256949811077056975031686370565845816981036167892330455103497165407984322792515265566483796338273488042877728447328933645773410093062365682687268013318931065552717013674172822704288279197461978805944285413220284999303849740540429893025407810120053701999064303195562726870079068213843151094378846458471168159763363401468459072474435300433314015701363633705309153196187013664717617975618648227816754951474354742056233896619815305871556180590934191775446450232435064334173434855333465262160341517250209548644211312373841441024747539900101488865742679168673356769004244781832745045012713439497231232255815861738982590755401780194874615548229070120796893835181030047378827641086164272219294123942746140207443292075817414598536256892540490923602419336928186124051416665048479530882042184097629985897052425322145715174649893481917612568426372077919256931921063600255204010662044398922537796993713110889134889921360833579323314386803074533058134342770923839546994120322442157750203621967931319597649960815556196358566683782572730174920215034531104191490057838260392829741446722127017532444082857280503217574522928285094747407153894570747792487061998260753833304433675066923630595212677695003060727653119915126939127827754432456052655283764591328484359469704894122366077507922825301623961196207923544095047285011474898262448957681893278273601046641810135121516552187096005252171171905022763076761687166299014789581539855448453229411352775826042558462563147630238335355859149814380543807473386539264830261256996173935860136236427622918234260408201158550118527706241993700526213016072648406003487895118011337828945314863348154387066988573131543747121745028364818130265528614742576976975564213718421245904443000581698214695522541683926528961160986876871840844632069685227319014872180179370554032205521013345746425253133686231659075343389374580200717637698542920298315739628019867736462368334051114029380922339886663078026309916370486909128253195100898377068612057592121356555290537815049586626181680384845905180029133497372417653664436161971980137048236053329456957495141918670077299206755740534997886723627476115663811233372206043170460623060506091246306386543951687123557178508806912199010111871', 1000),
              ]:
    print(f'num, k = {num}, {k}')
    sol = Solution()
    r = sol.removeKdigits(num, k)
    print(f'r = {r}')
    print('=====================')

