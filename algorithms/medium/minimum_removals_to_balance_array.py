from typing import List
import bisect

class Solution:
    def minRemoval(self, nums: List[int], k: int) -> int:
        N = len(nums)
        nums.sort()
        res = 10**20
        for i in range(N):
            if i == 0 or nums[i] != nums[i-1]:
                idx = bisect.bisect_right(nums, nums[i] * k)
                res = min(res, i + N - idx)
                if res == 0:
                    break
        return res

# Main section
for nums, k in [
                  ([2,1,5], 2),
                  ([1,6,2,9], 3),
                  ([4,6], 2),
                  ([5], 2),
                  ([69,55,53,87,15,49,59,75,72,71,83,54,20,79,11,49,74,84,20,65,54,19,57,77,35,46,71,94,54,3,48,61,69,51,87,65,10,9,43,44,6,36,73,9,90,18,79,90,67,79,73,2,8,36,97,77,77,3,33,79,2,6,61,40,81,12,67,72,66,31,15,35,34,55,51,78,21,39,69,59,16,90,16,6,95,89,91,1,56,14,88,43,17,36,70,6,91,74,5,87,9,96,73,19,35,48,57,51,16,68,91,75,89,66,99,98,83,98,17,34,96,93,70,98,28,16,94,57,32,59,31,32,62,1,18,91,52,9,31,74,94,90,18,27,26,8,80,71,81,1,41,91,4,56,95,79,7,1,64,18,71,96,93,91,34,36,6,67,4,85,69,85,90,84,38,76,36,73,49,86,20,67,42,100,33,18,57,57,58,100,59,27,47,63,82,77,98,59,60,27,97,59,88,46,52,88,2,75,57,80,47,51,9,25,50,23,12,56,39,30,94,25,81,45,33,66,1,2,13,89,35,80,42,70,76,95,75,92,62,67,34,78,15,52,98,53,81,20,75,66,30,9,22,55,62,78,54,93,82,39,53,34,48,99,55,53,6,74,76,15,69,69,53,71,11,73,98,16,36,56,29,42,10,5,84,9,89,60,14,93,38,67,49,24,91,82,49,42,40,80,74,71,99,31,43,81,62,96,1,65,55,69,77,58,63,53,42,58,99,74,63,70,95,65,46,64,60,61,6,67,64,97,90,90,16,64,11,13,79,82,47,51,31,16,86,98,13,86,67,85,19,98,42,62,16,84,84,62,32,65,10,33,45,69,52,92,23,98,3,33,18,49,20,12,41,57,71,8,91,33,75,15,94,86,80,80,89,74,87,66,55,96,71,53,55,95,28,86,78,91,43,2,84,75,45,76,72,33,49,73,40,10,43,60,38,78,6,20,45,7,66,34,85,72,53,28,21,52,71,58,54,51,61,42,93,40,80,61,63,18,79,3,82,69,97,58,86,32,15,24,100,50,7,84,81,72,46,74,37,53,28,57,94,54,2,71,48,81,39,3,99,82,14,99,54,70,67,47,47,99,4,83,30,20,70,52,31,5,56,26,95,31,100,29,57,3,72,58,57,90,20,91,53,36,25,57,75,100,47,98,10,14,48,45,13,95,19,17,76,27,81,44,28,98,67,79,95,69,54,43,78,88,63,88,63,99,24,100,21,81,37,60,73,87,53,47,10,69,6,25,20,4,47,42,59,25,3,52,59,29,24,7,3,21,66,72,31,89,26,26,36,13,72,86,8,65,6,12,100,91,4,33,83,2,85,23,51,78,75,17,39,69,18,52,82,93,65,52,82,86,33,73,5,3,9,43,80,73,24,89,15,21,16,24,24,10,63,77,100,74,49,24,32,61,82,46,29,79,61,25,29,21,40,2,81,61,71,92,91,96,92,1,3,27,27,94,21,60,61,73,44,5,45,57,73,80,82,52,14,69,92,75,9,19,87,29,71,13,5,23,8,81,51,73,26,49,76,28,99,46,82,59,11,74,39,47,48,85,82,27,90,26,69,71,47,66,1,68,98,57,3,21,73,9,86,99,47,3,58,92,99,3,81,40,18,26,23,46,47,78,80,16,16,67,65,24,75,51,12,89,22,1,49,15,49,88,10,26,43,66,23,31,8,60,59,19,7,94,69,65,79,21,72,49,30,13,25,73,45,62,100,25,85,23,69,1,90,1,3,89,88,82,28,17,78,89,13,85,9,17,99,54,35,10,99,64,12,100,35,78,51,50,80,72,10,25,89,7,56,25,56,97,42,90,17,99,85,41,45,26,9,42,29,54,50,22,29,75,54,11,87,65,36,91,64,65,38,37,77,84,85,19,83,50,11,50,90,99,33,57,98,7,47,7,58,51,60,38,2,60,46,1,89,78,40,92,51,28,83,4,58,88,14,91,3,23,27,8,96,37,73,51,68,85,18,42,31,18,20,54,75,14,47,96,69,63,99,27,47,80,36,53,80,72,46,58,25,2,74,61,15,70,36,73,66,99,28,57,52,71,68,44,71,78,50,53,49,57,43,69,42,82,70,11,69,74,95,43,79,28,26,54,9,37,81,14,64,67,68,88,45,9,71,3,92,64,78,32,8,81,61,66,92,34,100,49,93,24,23,67,86,65,31,4,11,82,59,70,20,10,49,57,36,73,49,43,2,45,1,76,22,43,23,2,36,10,36,12,91,23,13,34,17,57,9,49,9,41,15,3], 1),
                  ([7,11,13,17,37], 1),
               ]:
    print(f'nums, k = {nums}, {k}')
    sol = Solution()
    r = sol.minRemoval(nums, k)
    print(f'r = {r}')
    print('==========================')








