from typing import List

from collections import Counter
class Solution:
    def shareCandies(self, candies: List[int], k: int) -> int:
        cntr = Counter(candies)
        res = 0
        for i, v in enumerate(candies):
            cntr[v] -= 1
            if cntr[v] == 0:
                del cntr[v]
            if i >= k:
                cntr[candies[i-k]] += 1
            if i >= k - 1:
                res = max(res, len(cntr))
        return res

# Main section
for candies, k in [
                     ([1,2,2,3,4,3], 3),
                     ([2,2,2,2,3,3], 2),
                     ([2,4,5], 0),
                     ([1,2,5,3,4,5,5], 3),
                     ([1,1,2,1], 2),
                     ([2,4,5], 3),
                     ([7750,14162,42600,8756,50768,16816,97689,84115,39705,52588,93214,6542,31257,88120,10056,70964,95934,18990,77219,59189,85226,50057,41375,29395,51909,95692,84591,41566,48774,20767,53041,22939,70628,80521,60144,99435,87911,93095,68433,96063,96348,68514,30506,55112,71042,55745,16536,19084,88213,56274,74675,16960,92448,76158,66979,39201,25884,95879,37014,37118,70812,12829,39588,7320,21451,88241,94286,27841,93250,25096,28671,44857,52002,4136,52063,78416,10226,85957,76699,3568,6720,4424,51671,14339,21060,46494,8844,94314,91067], 53),
                  ]:
    print(f'candies, k = {candies}, {k}')
    sol = Solution()
    r = sol.shareCandies(candies, k)
    print(f'r = {r}')
    print('==================')

